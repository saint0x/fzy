use core.fs;
use core.mem;

fn read_user() -> i32 {
    let h = fs.open()
    defer close(h)
    fs.lock()
    stream.reader_bound(4096)
    fs.read()
    return 0
}

fn write_user() -> i32 {
    let h = fs.open()
    defer close(h)
    fs.lock()
    fs.atomic_write()
    fs.rename_atomic()
    fs.flush()
    fs.fsync()
    fs.write()
    return 0
}
